<div class="mt-5">
    <h1>Basic Form Example</h1>
    <hr>
    <h3>Online Library Form</h3>
    <form [formGroup]="libraryUserForm">
        <div class="row" formGroupName="name">
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label class="form-label" for="firstName">First Name</label>
                    <input type="text" class="form-control" id="firstName" formControlName="firstName">
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div class="mb-3">
                    <label class="form-label" for="lastName">Last Name</label>
                    <input type="text" class="form-control" id="lastName" formControlName="lastName">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="mb-3">
                    <label class="form-label" for="email">Email</label>
                    <input type="email" class="form-control" id="email" formControlName="email">
                </div>
            </div>
        </div>
        <div  formGroupName="address">
            <div class="row">
                <div class="col-md-6 col-sm-12">
                    <div class="mb-3">
                        <label class="form-label" for="street">Street</label>
                        <input type="text" class="form-control" id="street" formControlName="street">
                    </div>
                </div>
                <div class="col-md-6 col-sm-12">
                    <div class="mb-3">
                        <label class="form-label" for="city">City</label>
                        <input type="text" class="form-control" id="city" formControlName="city">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 col-sm-12">
                    <div class="mb-3">
                        <label class="form-label" for="state">State</label>
                        <select class="form-select" aria-label="State select" formControlName="state">
                            @for(state of states;track $index){
                                <option [value]="state">{{state}}</option>
                            }
                        </select>
                    </div>
                </div>
                <div class="col-md-6 col-sm-12">
                    <div class="mb-3">
                        <label class="form-label" for="city">Zip</label>
                        <input type="text" class="form-control" id="zip" maxlength="5" pattern="/(^\d{5}$)/" formControlName="zip">
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2 offset-md-10">
                <button type="button" class="btn btn-outline-primary float-end">Save</button>
            </div>
        </div>
    </form>
    <pre>{{libraryUserForm.value | json}}</pre>
    <hr>
    <h3>Book List Form (Dynamic Form Array)</h3>
    <form [formGroup]="bookListForm">
        <div class="row">
            <div class="col-md-12">
                <div class="mb-3">
                    <label class="form-label" for="name">List Name</label>
                    <input type="text" class="form-control" id="listName" formControlName="name">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2 offset-md-10">
                <button type="button" class="btn btn-outline-primary float-end" (click)="addBook()">Add Book</button>
            </div>
        </div>
        <div  class="row" formArrayName="books">
            @for(book of booksArray.controls; track $index) {
                <div formGroupName="index">
                    <div class="row">
                        <div class="col-md-9 col-sm-12">
                            <div class="mb-3">
                                <label class="form-label" for="title">Book Title</label>
                                <input type="text" class="form-control" id="title" formControlName="title">
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-12">
                            <div class="mb-3">
                                <label class="form-label" for="price">Price</label>
                                <input type="text" class="form-control" id="price" formControlName="price">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label" for="bookName">Author</label>
                                <input type="text" class="form-control" id="author" formControlName="author">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label" for="yearPublished">Year Published</label>
                                <input type="text" class="form-control" id="yearPublished" formControlName="yearPublished">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label" for="count">Number of Copies</label>
                                <input type="text" class="form-control" id="count" formControlName="count">
                            </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-2 offset-md-10">
                            <button type="button" class="btn btn-outline-danger float-end" (click)="removeBook($index)">Remove</button>
                        </div>
                    </div>
                </div>
                <hr>
            }
        </div>
    </form>
    <pre>{{bookListForm.value | json}}</pre>
</div>
